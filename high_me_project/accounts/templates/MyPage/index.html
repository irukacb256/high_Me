{% extends 'base_main.html' %}

{% block content %}
<style>
    /* å…¨ä½“ã‚³ãƒ³ãƒ†ãƒŠï¼šè–„ã„ã‚°ãƒ¬ãƒ¼ã®èƒŒæ™¯ */
    .mypage-container {
        background-color: #F8F8F8;
        min-height: 100%;
        padding-bottom: 30px;
    }

    /* ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¨ãƒªã‚¢ */
    .mypage-header {
        background: white;
        padding: 30px 20px 20px;
        text-align: left;
    }

    .header-top {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 25px;
        position: relative;
    }

    .notif-bell {
        position: absolute;
        right: 0;
    }

    .page-title {
        font-size: 24px;
        font-weight: bold;
        color: #000;
    }

    .notif-bell {
        font-size: 20px;
        color: #333;
    }

    /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« */
    .profile-section {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .avatar-circle {
        width: 75px;
        height: 75px;
        border-radius: 50%;
        border: 3px solid #ff3b30;
        padding: 3px;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .avatar-inner {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: #eee;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
        color: #aaa;
        overflow: hidden;
    }

    .avatar-inner img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }

    .rank-info {
        display: flex;
        flex-direction: column;
    }

    .rank-label {
        font-size: 11px;
        color: #666;
        margin-bottom: 2px;
    }

    .rank-name {
        font-size: 22px;
        font-weight: bold;
        color: #000;
    }

    /* ã‚¦ã‚©ãƒ¬ãƒƒãƒˆèµ¤ã‚«ãƒ¼ãƒ‰ */
    .wallet-card {
        background: #FF3B30;
        color: white;
        padding: 20px;
        border-radius: 15px;
        margin: 20px 15px 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .wallet-balance {
        font-size: 28px;
        font-weight: bold;
    }

    .btn-withdraw {
        background: white;
        color: #FF3B30;
        padding: 8px 18px;
        border-radius: 25px;
        font-size: 12px;
        font-weight: bold;
        text-decoration: none;
    }

    /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—å…±é€š */
    .menu-group {
        margin-bottom: 25px;
    }

    .menu-title {
        padding: 0 20px 10px;
        font-size: 13px;
        color: #888;
        font-weight: bold;
    }

    .menu-item {
        background: white;
        padding: 18px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #f2f2f2;
        text-decoration: none;
        color: #333;
    }

    .menu-item:active {
        background: #f9f9f9;
    }

    .menu-label-wrapper {
        display: flex;
        align-items: center;
        font-size: 15px;
        font-weight: 500;
    }

    .menu-label-wrapper i {
        margin-right: 15px;
        color: #555;
        width: 20px;
        text-align: center;
        font-size: 18px;
    }

    .chevron {
        color: #ccc;
        font-size: 14px;
    }

    /* ãƒãƒŠãƒ¼åºƒå‘Š */
    .lab-banner {
        margin: 10px 15px 40px;
        background: #FFD700;
        /* ã‚¿ã‚¤ãƒŸãƒ¼ãƒ©ãƒœ ã‚¤ã‚¨ãƒ­ãƒ¼ */
        border-radius: 12px;
        padding: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        text-decoration: none;
        color: #333;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        position: relative;
    }

    .lab-text b {
        font-size: 18px;
        display: block;
        margin-bottom: 5px;
    }

    .lab-text span {
        font-size: 12px;
    }

    .lab-icon {
        position: absolute;
        right: 15px;
        top: 10px;
        font-size: 12px;
        color: #666;
    }
</style>

<div class="mypage-container">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div class="mypage-header">
        <div class="header-top">
            <span class="page-title">ãƒã‚¤ãƒšãƒ¼ã‚¸</span>
            <i class="fa-regular fa-bell notif-bell"></i>
        </div>
        <div class="profile-section">
            <a href="{% url 'profile_edit' %}" class="avatar-circle">
                <div class="avatar-inner">
                    {% if user.workerprofile.face_photo %}<img src="{{ user.workerprofile.face_photo.url }}">{%
                    else %}ğŸ‘¤{% endif %}
                </div>
            </a>
            <div class="rank-info">
                <span class="rank-label">Timee Membership</span>
                <span class="rank-name">
                    {% if membership %}{{ membership.grade }}{% else %}ROOKIE{% endif %}
                    <span style="font-size:14px; font-weight:normal; margin-left:8px;">Lv {% if membership %}{{
                        membership.level }}{% else %}0{% endif %}</span>
                </span>
                <a href="{% url 'achievements' %}"
                    style="display:inline-block; margin-top:5px; padding:4px 12px; border:1px solid #ccc; border-radius:15px; text-decoration:none; font-size:11px; color:#333; font-weight:bold; width: fit-content;">ã‚ãªãŸã®å®Ÿç¸¾</a>
            </div>
        </div>
    </div>

    <!-- ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ -->
    <div class="wallet-card">
        <div>
            <div style="font-size:12px; margin-bottom:5px; opacity:0.9;">ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ®‹é«˜</div>
            <div class="wallet-balance">Â¥ {{ balance }}</div>
        </div>
        <a href="{% url 'reward_management' %}" class="btn-withdraw">å¼•ãå‡ºã™</a>
    </div>

    <!-- æœ¬äººç¢ºèªèª˜å°ãƒãƒŠãƒ¼ (æœªç¢ºèªæ™‚ã®ã¿è¡¨ç¤º) -->
    {% if not user.workerprofile.is_identity_verified %}
    <a href="{% url 'verify_identity_select' %}" class="lab-banner"
        style="background: white; border: 2px solid #FF3B30; margin-top: -15px;">
        <div class="lab-text">
            <span style="color: #FF3B30; font-weight: bold;">æœ¬äººç¢ºèªãŒå®Œäº†ã—ã¦ã„ã¾ã›ã‚“</span>
            <b style="font-size: 16px;">æœ¬äººç¢ºèªã¸ã™ã™ã‚€</b>
        </div>
        <div style="font-size: 24px;">ğŸªª</div>
        <i class="fa-solid fa-chevron-right chevron"
            style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%);"></i>
    </a>
    {% endif %}

    <!-- 1. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ -->
    <div class="menu-group">
        <div class="menu-title">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</div>
        <a href="{% url 'account_settings' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-gear"></i> ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="{% url 'review_penalty' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-clipboard-list"></i> ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒšãƒŠãƒ«ãƒ†ã‚£</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="{% url 'badge_list' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-regular fa-circle-user"></i> ãƒãƒƒã‚¸ä¸€è¦§</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="{% url 'qualification_list' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-award"></i> ä¿æœ‰è³‡æ ¼</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
    </div>

    <!-- 2. ãŠä»•äº‹ -->
    <div class="menu-group">
        <div class="menu-title">ãŠä»•äº‹</div>
        <a href="{% url 'past_jobs' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-briefcase"></i> ã“ã‚Œã¾ã§ã®ä»•äº‹</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="{% url 'work_history_long_term' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-regular fa-calendar-days"></i> é•·æœŸãƒã‚¤ãƒˆã®å¿œå‹Ÿå±¥æ­´</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>

        <a href="{% url 'earned_rewards_list' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-yen-sign"></i> ç²å¾—ã—ãŸå ±é…¬</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="{% url 'annual_tax_list' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-file-lines"></i> å¹´é–“å ±é…¬ã«ã‚ˆã‚‹ç”³ã—è¾¼ã¿åˆ¶é™ã®è§£é™¤</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="{% url 'tax_slip_list' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-file-invoice-dollar"></i> æºæ³‰å¾´åç¥¨ã®ç¢ºèªã¨å°åˆ·</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
    </div>

    <!-- 3. é€šçŸ¥ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ -->
    <div class="menu-group">
        <div class="menu-title">é€šçŸ¥ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼</div>
        <a href="{% url 'location_settings' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-location-arrow"></i> ä½ç½®æƒ…å ±ã®è¨­å®š</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-regular fa-bell"></i> ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥è¨­å®š</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="{% url 'muted_stores_list' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-volume-xmark"></i> ãƒŸãƒ¥ãƒ¼ãƒˆã—ã¦ã„ã‚‹åº—èˆ—</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-regular fa-envelope"></i> ãŠçŸ¥ã‚‰ã›ãƒ¡ãƒ¼ãƒ«è¨­å®š</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-clipboard-check"></i> æ¤œä¾¿ä¾é ¼ã¨çµæœ</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
    </div>

    <!-- 4. ã‚µãƒãƒ¼ãƒˆ -->
    <div class="menu-group">
        <div class="menu-title">ã‚µãƒãƒ¼ãƒˆ</div>
        <a href="{% url 'inquiry_form' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-regular fa-envelope"></i> ãŠå•ã„åˆã‚ã›</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="{% url 'faq' %}" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-regular fa-circle-question"></i> ã‚ˆãã‚ã‚‹è³ªå•</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-flag"></i> ã‚¢ãƒ—ãƒªã®ä¸å…·åˆã€æ”¹å–„è¦æœ›ã‚’å ±å‘Š</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
    </div>

    <!-- 5. ãã®ä»– -->
    <div class="menu-group">
        <div class="menu-title">ãã®ä»–</div>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-book"></i> ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-file-lines"></i> åˆ©ç”¨è¦ç´„</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-list-check"></i> å–æ‰±è·ç¨®ã®ç¯„å›²</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-cat"></i> ã‚¿ã‚¤ãƒŸãƒ¼ã‚’ä¸€ç·’ã«ã¤ãã‚Šã¾ã›ã‚“ã‹ï¼Ÿ</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
        <a href="#" class="menu-item">
            <div class="menu-label-wrapper"><i class="fa-solid fa-user-minus"></i> é€€ä¼šæ‰‹ç¶šã</div><i
                class="fa-solid fa-chevron-right chevron"></i>
        </a>
    </div>

    <!-- ãƒãƒŠãƒ¼ï¼šã‚¿ã‚¤ãƒŸãƒ¼ãƒ©ãƒœ -->
    <a href="#" class="lab-banner">
        <div class="lab-text">
            <span>ã€Œåƒãã€ã²ã¨ã®æƒ…å ±ã‚µã‚¤ãƒˆ</span>
            <b>ã‚¿ã‚¤ãƒŸãƒ¼ãƒ©ãƒœ</b>
        </div>
        <i class="fa-solid fa-arrow-up-right-from-square lab-icon"></i>
        <div style="font-size:30px;">ğŸ”¬</div>
    </a>
</div>
{% endblock %}