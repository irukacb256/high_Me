@startuml お仕事をキャンセルする

actor ワーカー as wo1
boundary 応募済み一覧画面 as asl1
control 表示 as co1
entity 予定 as en1
boundary 仕事詳細画面 as jsd1
boundary キャンセル確認画面 as cnf1
boundary キャンセル理由選択画面 as crs1
boundary キャンセル理由入力画面 as cri1
boundary キャンセル内容確認画面 as cfc1
boundary キャンセル完了画面 as cmp1

co1 -> en1 : 予定を参照する
en1 --> co1

co1 -> asl1 : 表示する

alt 応募済みのお仕事がない場合
    co1 -> asl1 : 「今後の予定はありません」\n「次のお仕事を探してみましょう」\n「仕事を探す」ボタンを表示する

else 応募済みのお仕事がある場合
    co1 -> asl1 : 応募済みお仕事一覧を表示する

    wo1 -> asl1 : 応募が確定したお仕事を押下する
    asl1 -> jsd1 : 表示する

    wo1 -> jsd1 : 「このお仕事をキャンセル」ボタンを押下する
    jsd1 -> cnf1 : 表示する

    wo1 -> cnf1 : 「キャンセルにすすむ」ボタンを押下する
    cnf1 -> crs1 : 表示する

    wo1 -> crs1 : キャンセル理由を選択し「メッセージを入力」を押下する
    crs1 -> cri1 : 表示する

    wo1 -> cri1 : 理由を入力し「次へ」を押下する
    cri1 -> cfc1 : 表示する

    wo1 -> cfc1 : 入力内容を確認し「次へ」を押下する
    cfc1 -> cfc1 : 最終確認画面を表示する

    wo1 -> cfc1 : 「キャンセルを完了」ボタンを押下する
    cfc1 -> co1 : キャンセル処理要求
    co1 -> en1 : 予定をキャンセル状態に更新
    en1 --> co1

    co1 -> cmp1 : 表示する
end

@enduml
