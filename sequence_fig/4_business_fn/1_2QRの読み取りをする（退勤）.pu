@startuml QRの読み取りをする（退勤）

actor ワーカー as wo1
boundary QR読み込み画面 as ch1
control 表示 as co1
entity 予定 as en1
boundary 報酬確定修正依頼画面 as rc1
boundary 修正依頼_時間入力画面 as mr1 
boundary 修正依頼_休憩入力画面 as mr2 
boundary 修正依頼_理由選択画面 as mr3 
boundary 修正依頼_理由入力画面 as mr4 
boundary 修正依頼_確認画面 as mr5 
boundary 報酬の最終確認画面 as rl1
boundary 報酬確定画面 as rc2
entity 修正依頼データ as md1

co1 -> en1 : 予定を参照する
en1 --> co1

co1 -> ch1 : QR読み込み画面を表示する

wo1 -> ch1 : 「OK」ボタンを押下する

ch1 -> rc1 : 報酬確定/修正依頼選択画面を表示する

alt このまま報酬確定
    wo1 -> rc1 : 「このまま報酬確定」ボタンを押下する
    rc1 -> rc1 : 確定/キャンセルボタンを表示する
    wo1 -> rc1 : 「確定する」ボタンを押下する
    rc1 -> rl1 : 報酬の最終確認画面を表示する
    wo1 -> rl1 : 「OK」ボタンを押下する
    rl1 -> rc2 : 報酬確定画面を表示する

else 残業時間の修正依頼を提出
    wo1 -> rc1 : 「残業時間の修正依頼を提出」ボタンを押下する
    rc1 -> mr1 : 業務時間入力画面を表示する
    wo1 -> mr1 : 「次へ」ボタンを押下する
    mr1 -> mr1 : 業務時間入力欄を表示する
    wo1 -> mr1 : 業務時間を入力し「次へ」を押下する

    mr1 -> mr2 : 休憩時間入力画面を表示する
    wo1 -> mr2 : 休憩時間を入力し「次へ」を押下する

    mr2 -> mr3 : 遅刻・早上がり理由選択画面を表示する
    wo1 -> mr3 : 理由を選択する

    mr3 -> mr4 : 修正依頼理由入力画面を表示する
    wo1 -> mr4 : 理由を入力し「次へ」を押下する

    mr4 -> mr5 : 修正依頼の最終確認画面を表示する
    wo1 -> mr5 : チェックを入れ「修正依頼を送信」を押下する
    mr5 -> md1 : 修正依頼を登録する
    md1 --> mr5

    mr5 -> rc2 : 修正依頼完了画面を表示する
end

@enduml
